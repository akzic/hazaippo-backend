<!-- app/templates/detail_wanted.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>欲しい資材の詳細 - はざいっぽ</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/detail.css') }}">
</head>
<body>
    {% include 'header.html' %}
    <h1>希望資材の詳細</h1>
    <div class="card">
        <p>種類: {{ wanted_material.type }}</p>
        {% if wanted_material.type == "木材" and wanted_material.wood_type %}
            <p>木材の種類: {{ wanted_material.wood_type }}</p>
        {% elif wanted_material.type == "ボード材" and wanted_material.board_material_type %}
            <p>ボード材の種類: {{ wanted_material.board_material_type }}</p>
        {% elif wanted_material.type == "パネル材" and wanted_material.panel_type %}
            <p>パネル材の種類: {{ wanted_material.panel_type }}</p>
        {% endif %}
        <!-- 修正: 登録ユーザーの所在をユーザーの都道府県と市区町村で表示 -->
        <p>登録ユーザーの所在: {{ wanted_material.owner.prefecture }} {{ wanted_material.owner.city }}</p>
        <p>数量: {{ wanted_material.quantity }}</p>
        <!-- 新規追加: 締切日 -->
        <p>締切日: {{ wanted_material.deadline.strftime('%Y-%m-%d') if wanted_material.deadline else '未設定' }}</p>
        <!-- 新規追加: 土日受け渡し -->
        <p>土日受け渡し: 
            {% if wanted_material.exclude_weekends %}
                不可
            {% else %}
                可能
            {% endif %}
        </p>
        <!-- 新規追加: 備考 -->
        <p>備考: {{ wanted_material.note or 'なし' }}</p>
        <div class="button-group">
            <button id="showProfileButton" class="btn btn-primary">ユーザーの詳細</button>
            <a href="{{ url_for('requests_bp.request_wanted_material', wanted_material_id=wanted_material.id) }}" class="btn btn-primary">リクエスト</a>
            <a href="{{ url_for('search.search_wanted_materials') }}" class="btn btn-secondary back-button">戻る</a>
        </div>
    </div>
    <div id="profileDetails" style="display:none;">
        <h2>ユーザーの詳細（マッチ数：{{ total_matched_count }}）</h2>
        <p>形態: 
            {% if user.business_structure == 0 %}
                法人
            {% elif user.business_structure == 1 %}
                個人事業主
            {% elif user.business_structure == 2 %}
                個人
            {% else %}
                不明
            {% endif %}
        </p>
        <p>ユーザー名: {{ user.company_name }}</p>
        <p>住所: {{ user.prefecture }} {{ user.city }} {{ user.address }}</p>
        <p>業種: {{ user.industry }}</p>
        <p>職種: {{ user.job_title }}</p>
    </div>
    <script src="{{ url_for('static', filename='js/detail.js') }}"></script>
</body>
</html>
