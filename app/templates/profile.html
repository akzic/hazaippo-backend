<!-- templates/profile.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>プロフィール - はざいっぽ</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/profile.css') }}">
</head>
<body>
    {% include 'header.html' %}
    <div class="card">
        <h1>プロフィール</h1>
        {% set prefecture_map = {
            '北海道': '北海道',
            '青森県': '青森県',
            '岩手県': '岩手県',
            '宮城県': '宮城県',
            '秋田県': '秋田県',
            '山形県': '山形県',
            '福島県': '福島県',
            '茨城県': '茨城県',
            '栃木県': '栃木県',
            '群馬県': '群馬県',
            '埼玉県': '埼玉県',
            '千葉県': '千葉県',
            '東京都': '東京都',
            '神奈川県': '神奈川県',
            '新潟県': '新潟県',
            '富山県': '富山県',
            '石川県': '石川県',
            '福井県': '福井県',
            '山梨県': '山梨県',
            '長野県': '長野県',
            '岐阜県': '岐阜県',
            '静岡県': '静岡県',
            '愛知県': '愛知県',
            '三重県': '三重県',
            '滋賀県': '滋賀県',
            '京都府': '京都府',
            '大阪府': '大阪府',
            '兵庫県': '兵庫県',
            '奈良県': '奈良県',
            '和歌山県': '和歌山県',
            '鳥取県': '鳥取県',
            '島根県': '島根県',
            '岡山県': '岡山県',
            '広島県': '広島県',
            '山口県': '山口県',
            '徳島県': '徳島県',
            '香川県': '香川県',
            '愛媛県': '愛媛県',
            '高知県': '高知県',
            '福岡県': '福岡県',
            '佐賀県': '佐賀県',
            '長崎県': '長崎県',
            '熊本県': '熊本県',
            '大分県': '大分県',
            '宮崎県': '宮崎県',
            '鹿児島県': '鹿児島県',
            '沖縄県': '沖縄県'
        } %}
        <div class="container">
            <!-- 形態を最初に表示 -->
            <p>形態: 
                {% if current_user.business_structure == 0 %}
                    法人
                {% elif current_user.business_structure == 1 %}
                    個人事業主
                {% elif current_user.business_structure == 2 %}
                    個人
                {% else %}
                    不明
                {% endif %}
            </p>

            {% if current_user.business_structure == 0 %}
                <p>法人名（屋号）: {{ current_user.company_name }}</p>
                <p>住所: {{ prefecture_map.get(current_user.prefecture, current_user.prefecture) }} {{ current_user.city }} {{ current_user.address }}</p>
                <p>電話番号: {{ current_user.company_phone }}</p>
                <p>業種: {{ current_user.industry }}</p>
                <p>職種: {{ current_user.job_title }}</p>
                <p>リクエスト受け取り時の承認: {{ 'スキップする' if current_user.without_approval else '必要' }}</p>
                <p>担当者氏名: {{ current_user.contact_name }}</p>
                <p>担当者メールアドレス: {{ current_user.email }}</p>
                <p>担当者電話番号: {{ current_user.contact_phone }}</p>
            {% elif current_user.business_structure == 1 %}
                <p>屋号: {{ current_user.company_name }}</p>
                <p>住所: {{ prefecture_map.get(current_user.prefecture, current_user.prefecture) }} {{ current_user.city }} {{ current_user.address }}</p>
                <p>電話番号: {{ current_user.company_phone }}</p>
                <p>業種: {{ current_user.industry }}</p>
                <p>職種: {{ current_user.job_title }}</p>
                <p>リクエスト受け取り時の承認: {{ 'スキップする' if current_user.without_approval else '必要' }}</p>
                <p>担当者氏名: {{ current_user.contact_name }}</p>
                <p>担当者メールアドレス: {{ current_user.email }}</p>
                <p>担当者電話番号: {{ current_user.contact_phone }}</p>
            {% elif current_user.business_structure == 2 %}
                <p>ニックネーム: {{ current_user.company_name }}</p>
                <p>住所: {{ prefecture_map.get(current_user.prefecture, current_user.prefecture) }} {{ current_user.city }} {{ current_user.address }}</p>
                <p>リクエスト受け取り時の承認: {{ 'スキップする' if current_user.without_approval else '必要' }}</p>
                <p>担当者: {{ current_user.contact_name }}</p>
                <p>メールアドレス: {{ current_user.email }}</p>
                <p>電話番号: {{ current_user.contact_phone }}</p>
            {% endif %}
            <p style="display: none;">LINE ID: {{ current_user.line_id }}</p>
        </div>
        <div class="button-group">
            <a href="{{ url_for('profile.edit_profile') }}" class="btn btn-primary">編集</a>
            <a href="{{ url_for('auth.logout') }}" class="btn btn-primary">ログアウト</a>
            <a href="{{ url_for('dashboard.dashboard_home') }}" class="btn btn-secondary">戻る</a>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/profile.js') }}"></script>
</body>
</html>
