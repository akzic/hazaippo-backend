<!-- app/templates/partials/search_wanted_results.html -->
{% if results %}
    <ul class="search-results-list">
        {% for result in results %}
            <li class="search-result-item">
                <div class="result-info">
                    <p>資材の種類: {{ result.type }}</p>
                    
                    <!-- サブタイプの表示 -->
                    {% if result.type == "木材" and result.wood_type %}
                        <p>木材の種類: {{ result.wood_type }}</p>
                    {% elif result.type == "ボード材" and result.board_material_type %}
                        <p>ボード材の種類: {{ result.board_material_type }}</p>
                    {% elif result.type == "パネル材" and result.panel_type %}
                        <p>パネル材の種類: {{ result.panel_type }}</p>
                    {% endif %}
                    
                    <p><strong>サイズ:</strong>
                        {% if result.size_1 == 0.0 and result.size_2 == 0.0 and result.size_3 == 0.0 %}
                            指定なし
                        {% else %}
                            {{ result.size_1 }} mm × {{ result.size_2 }} mm × {{ result.size_3 }} mm
                        {% endif %}
                    </p>
                    <p>数量: {{ result.quantity }}</p>
                    <p>締切日: {{ result.deadline.strftime('%Y-%m-%d') }}{% if result.exclude_weekends %}（土日を除く）{% endif %}</p>

                </div>
                
                <div class="result-actions">
                    <a href="{{ url_for('materials.detail_wanted', wanted_material_id=result.id) }}" class="btn btn-primary">詳細</a>
                </div>
                
                <!-- マップ表示用の要素を削除 -->
                <!-- <div id="map-{{ result.id }}" class="material-map" style="display: none;"></div> -->
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>検索結果がありません。</p>
{% endif %}
